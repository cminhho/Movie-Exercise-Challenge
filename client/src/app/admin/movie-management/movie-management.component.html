<div>
  <h2 id="page-heading">
    <span>Movies</span>
    <button class="btn btn-primary float-right create-movie" [routerLink]="['/movie/new']">
      <fa-icon [icon]="'plus'"></fa-icon>
      <span>
        Create new Movie
      </span>
    </button>
  </h2>
  <br />
  <div class="alert alert-warning" *ngIf="movies?.length === 0">
    <span>No movies found</span>
  </div>
  <div class="table-responsive" *ngIf="movies?.length > 0">
    <table class="table table-striped">
      <thead>
        <tr>
          <th><span>ID</span> <fa-icon [icon]="'sort'"></fa-icon></th>
          <th><span>Title</span> <fa-icon [icon]="'sort'"></fa-icon></th>
          <th><span>Vote Average</span> <fa-icon [icon]="'sort'"></fa-icon></th>
          <th><span>Vote Count</span> <fa-icon [icon]="'sort'"></fa-icon></th>
          <th><span>Video</span> <fa-icon [icon]="'sort'"></fa-icon></th>
          <th><span>Media Type</span> <fa-icon [icon]="'sort'"></fa-icon></th>
          <th><span>Popularity</span> <fa-icon [icon]="'sort'"></fa-icon></th>
          <th><span>Poster Path</span> <fa-icon [icon]="'sort'"></fa-icon></th>
          <th><span>Original Language</span> <fa-icon [icon]="'sort'"></fa-icon></th>
          <th><span>Original Title</span> <fa-icon [icon]="'sort'"></fa-icon></th>
          <th><span>Backdrop Path</span> <fa-icon [icon]="'sort'"></fa-icon></th>
          <th><span>Adult</span> <fa-icon [icon]="'sort'"></fa-icon></th>
          <th><span>Overview</span> <fa-icon [icon]="'sort'"></fa-icon></th>
          <th><span>Release Date</span> <fa-icon [icon]="'sort'"></fa-icon></th>
          <th><span>List</span> <fa-icon [icon]="'sort'"></fa-icon></th>
          <th></th>
        </tr>
      </thead>
      <tbody infinite-scroll (scrolled)="loadPage(page + 1)" [infiniteScrollDisabled]="page >= links['last']" [infiniteScrollDistance]="0">
        <tr *ngFor="let movie of movies; trackBy: trackId">
          <td>
            <a [routerLink]="['/movie', movie.id, 'view']">{{ movie.id }}</a>
          </td>
          <td>{{ movie.title }}</td>
          <td>{{ movie.voteAverage }}</td>
          <td>{{ movie.voteCount }}</td>
          <td>{{ movie.video }}</td>
          <td>{{ movie.mediaType }}</td>
          <td>{{ movie.popularity }}</td>
          <td>{{ movie.posterPath }}</td>
          <td>{{ movie.originalLanguage }}</td>
          <td>{{ movie.originalTitle }}</td>
          <td>{{ movie.backdropPath }}</td>
          <td>{{ movie.adult }}</td>
          <td>{{ movie.overview }}</td>
          <td>{{ movie.releaseDate }}</td>
          <td>
            <div *ngIf="movie.list">
              <a [routerLink]="['../list', movie.list?.id, 'view']">{{ movie.list?.id }}</a>
            </div>
          </td>
          <td class="text-right">
            <div class="btn-group">
              <button type="submit" [routerLink]="['/movie', movie.id, 'view']" class="btn btn-info btn-sm">
                <fa-icon [icon]="'eye'"></fa-icon>
                <span class="d-none d-md-inline">View</span>
              </button>
              <button type="submit" [routerLink]="['/movie', movie.id, 'edit']" class="btn btn-primary btn-sm">
                <fa-icon [icon]="'pencil-alt'"></fa-icon>
                <span class="d-none d-md-inline">Edit</span>
              </button>
              <button
                type="submit"
                [routerLink]="['/', 'movie', { outlets: { popup: movie.id + '/delete' } }]"
                replaceUrl="true"
                queryParamsHandling="merge"
                class="btn btn-danger btn-sm"
              >
                <fa-icon [icon]="'times'"></fa-icon>
                <span class="d-none d-md-inline">Delete</span>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
